/*!
 * jSmart JavaScript template engine (v4.0.0)
 * https://github.com/umakantp/jsmart
 * https://opensource.org/licenses/MIT
 *
 * Copyright 2011-2021, Umakant Patil <me at umakantpatil dot com>
 *                      Max Miroshnikov <miroshnikov at gmail dot com>
 */

!function(e){"use strict";"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=e():("object"==typeof window&&window.document&&(window.jSmart=e()),"function"==typeof define&&define.amd&&define("jSmart",[],e))}(function(){"use strict";function objectMerge(e,t){for(var r=1;r<arguments.length;++r)for(var n in arguments[r])e[n]=arguments[r][n];return e}function evalString(e){return e.replace(/\\t/,"\t").replace(/\\n/,"\n").replace(/\\(['"\\])/g,"$1")}function trimAllQuotes(e){return evalString(e.replace(/^['"](.*)['"]$/,"$1")).replace(/^\s+|\s+$/g,"")}function findInArray(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}var jSmartParser={files:{},ldelim:"{",rdelim:"}",autoLiteral:!0,runTimePlugins:{},plugins:{},preFilters:[],outerBlocks:{},blocks:{},getTemplate:function(e){throw new Error("no getTemplate function defined.")},getConfig:function(){throw new Error("no getConfig function defined.")},clear:function(){this.runTimePlugins={},this.preFilters=[],this.autoLiteral=!0,this.plugins={},this.ldelim="{",this.rdelim="}",this.blocks={},this.outerBlocks={}},getTree:function(e){var t;if(e=(e=this.removeComments(e)).replace(/\r\n/g,"\n"),e=this.applyFilters(this.preFilters,e),0<(t=this.parse(e)).usedExtends){for(var r=[],n=0;n<t.length;n++)(n<t.usedExtends||"build-in"===t[n].type&&"block"===t[n].name)&&r.push(t[n]);t=r}return t},getParsed:function(e){var t=this.getTree(e),r=this.runTimePlugins,n=this.blocks,e=this.outerBlocks;return this.clear(),{tree:t,runTimePlugins:r,blocks:n,outerBlocks:e}},parse:function(e){for(var t,r,n,a,s,i,o,l=[],p=0,u=this.findTag("",e);u;u=this.findTag("",e))u.index&&(l=l.concat(this.parseText(e.slice(0,u.index)))),e=e.slice(u.index+u[0].length),(a=u[1].match(/^\s*(\w+)(.*)$/))?(i=a[1],o=2<a.length?a[2].replace(/^\s+|\s+$/g,""):"",i in this.buildInFunctions?(s=("parseParams"in(r=this.buildInFunctions[i])?r:this).parseParams.bind(this)(o),"block"===r.type?(e=e.replace(/^\n/,""),n=this.findCloseTag("/"+i,i+" +[^}]*",e),(a=r.parse.call(this,s,e.slice(0,n.index)))&&(l=l.concat(a)),e=e.slice(n.index+n[0].length)):("extends"===i&&l.splice(0,l.length),l=l.concat(r.parse.call(this,s)),"extends"===i&&(p=l.length)),e=e.replace(/^\n/,"")):i in this.runTimePlugins?l=l.concat(this.parsePluginFunc(i,this.parseParams(o))):i in this.plugins?("block"===(s=this.plugins[i]).type?(n=this.findCloseTag("/"+i,i+" +[^}]*",e),l=l.concat(this.parsePluginBlock(i,this.parseParams(o),e.slice(0,n.index))),e=e.slice(n.index+n[0].length)):"function"===s.type&&(l=l.concat(this.parsePluginFunc(i,this.parseParams(o)))),"append"!==i&&"assign"!==i&&"capture"!==i&&"eval"!==i&&"include"!==i||(e=e.replace(/^\n/,""))):(t=this.buildInFunctions.expression.parse.call(this,u[1]),l.push(t))):("build-in"===(t=this.buildInFunctions.expression.parse.call(this,u[1])).expression.type&&"operator"===t.expression.name&&"="===t.expression.op&&(e=e.replace(/^\n/,"")),l.push(t));return(l=e?l.concat(this.parseText(e)):l).usedExtends=p,l},findTag:function(e,t){for(var r,n=0,a=0,s=this.ldelim,i=this.rdelim,o=this.autoLiteral,l=e?new RegExp("^\\s*("+e+")\\s*$","i"):/^\s*(.+)\s*$/i,p=0;p<t.length;++p)if(t.substr(p,s.length)===s)o&&p+1<t.length&&t.substr(p+1,1).match(/\s/)||(n||(t=t.slice(p),a+=parseInt(p),p=0),++n);else if(t.substr(p,i.length)===i&&!(o&&0<=p-1&&t.substr(p-1,1).match(/\s/))){if(!--n&&(r=t.slice(s.length,p).replace(/[\r\n]/g," ").match(l)))return r.index=a,r[0]=t.slice(0,p+i.length),r;n<0&&(n=0)}return null},findElseTag:function(e,t,r,n){for(var a=0,s=this.findTag(r,n);s;s=this.findTag(r,n)){var i=this.findTag(e,n);if(!i||i.index>s.index)return s.index+=a,s;n=n.slice(i.index+i[0].length),a+=i.index+i[0].length;i=this.findCloseTag(t,e,n);n=n.slice(i.index+i[0].length),a+=i.index+i[0].length}return null},findCloseTag:function(e,t,r){var n,a="",s=null,i=0;do{if(s&&(i+=s[0].length),!(s=this.findTag(e,r)))throw new Error("Unclosed "+this.ldelim+t+this.rdelim)}while(a+=r.slice(0,s.index),i+=s.index,r=r.slice(s.index+s[0].length),(n=this.findTag(t,a))&&(a=a.slice(n.index+n[0].length)),n);return s.index=i,s},bundleOp:function(e,t,r){var n=t[e];if("operator"===n.name&&n.precedence===r&&!n.params.__parsed){if("binary"===n.optype)return n.params.__parsed=[t[e-1],t[e+1]],t.splice(e-1,3,n),[!0,t];if("post-unary"===n.optype)return n.params.__parsed=[t[e-1]],t.splice(e-1,2,n),[!0,t];n.params.__parsed=[t[e+1]],t.splice(e,2,n)}return[!1,t]},composeExpression:function(e){for(var t,r=0,r=0;r<e.length;++r)e[r]instanceof Array&&(e[r]=this.composeExpression(e[r]));for(var n=1;n<14;++n)if(2===n||10===n)for(r=e.length;0<r;--r)r-=(t=this.bundleOp(r-1,e,n))[0],e=t[1];else for(r=0;r<e.length;++r)r-=(t=this.bundleOp(r,e,n))[0],e=t[1];return e[0]},getMatchingToken:function(e){for(var t=0;t<this.tokens.length;++t)if(e.match(this.tokens[t].regex))return t;return!1},parseVar:function(e,t,r){var n,a,s,i,o=/^(?:\.|\s*->\s*|\[\s*)/,l={value:"",tree:[]},p=[{type:"text",data:t.replace(/^(\w+)@(key|index|iteration|first|last|show|total)/gi,"$1__$2")}],u=r;for(r||(u=r=t),n=e.match(o);n;n=e.match(o))r+=n[0],e=e.slice(n[0].length),n[0].match(/\[/)?((l=this.parseExpression(e,!0)).tree&&(r+=l.value,p.push(l.tree),e=e.slice(l.value.length)),(i=e.match(/\s*\]/))&&(r+=i[0],e=e.slice(i[0].length))):(s=this.parseModifiersStop,this.parseModifiersStop=!0,(i=this.lookUp(e,""))&&(l.tree=[].concat(l.tree,i.tree),l.value=i.value,r+=i.value,i.ret?("plugin"===(i=l.tree[l.tree.length-1]).type&&"__func"===i.name&&(i.hasOwner=!0),p.push(i),e=e.slice(l.value.length)):l=!1),this.parseModifiersStop=s),l||p.push({type:"text",data:""});return a=r.substr(u.length),{s:e,token:r,tree:[{type:"var",parts:p}],value:a}},parseFunc:function(e,t,r){return t.__parsed.name=this.parseText(e,[])[0],r.push({type:"plugin",name:"__func",params:t}),r},parseOperator:function(e,t,r){return[{type:"build-in",name:"operator",op:e,optype:t,precedence:r,params:{}}]},parsePluginBlock:function(e,t,r){return[{type:"plugin",name:e,params:t,subTree:this.parse(r,[])}]},parsePluginFunc:function(e,t){return[{type:"plugin",name:e,params:t}]},parseModifiers:function(e,t){var r=e.match(/^\|(\w+)/),n="";if(!this.parseModifiersStop&&r){n+=r[0],o="default"===r[1]?"defaultValue":r[1],e=e.slice(r[0].length).replace(/^\s+/,""),this.parseModifiersStop=!0;for(var a=[],s=e.match(/^\s*:\s*/);s;s=e.match(/^\s*:\s*/)){n+=e.slice(0,s[0].length),e=e.slice(s[0].length);var i=this.lookUp(e,"");i.ret?(n+=i.value,a.push(i.tree[0]),e=e.slice(i.value.length)):a.push(this.parseText(""))}this.parseModifiersStop=!1,a.unshift(t.pop());var o=this.parseFunc(o,{__parsed:a},[]);t.push(o[0]);o=this.parseModifiers(e,t);return{value:n,tree:t=o?t.concat(o.tree):t}}},parseParams:function(e,t,r){var n=e.replace(/\n/g," ").replace(/^\s+|\s+$/g,""),a=[];if(e="",a.__parsed=[],!n)return a;for(t||(t=/^\s+/,r=/^(\w+)\s*=\s*/);n;){var s,i=null;!r||(o=n.match(r))&&(s=o[1].charAt(0).match(/^\d+/),(s="true"===o[1]||"false"===o[1]||"null"===o[1]?!0:s)||(i=trimAllQuotes(o[1]),e+=n.slice(0,o[0].length),n=n.slice(o[0].length)));var o=this.parseExpression(n);if(!o)break;i?(a[i]=o.value,a.__parsed[i]=o.tree):(a.push(o.value),a.__parsed.push(o.tree)),e+=n.slice(0,o.value.length);o=(n=n.slice(o.value.length)).match(t);if(!o)break;e+=n.slice(0,o[0].length),n=n.slice(o[0].length)}return a.toString=function(){return e},a},lookUp:function(e,t){var r,n=[];if(!e)return!1;if(e.substr(0,this.ldelim.length)===this.ldelim&&(t+=(r=this.findTag("",e))[0],r)){var a=this.parse(r[0]),n=n.concat(a),a=this.parseModifiers(e.slice(t.length),n);return a?{ret:!0,tree:a.tree,value:a.value}:{ret:!0,tree:n,value:t}}a=this.getMatchingToken(e);if(!1===a)return{ret:!1,tree:n,value:t};t+=RegExp.lastMatch;a=this.tokens[a].parse.call(this,e.slice(RegExp.lastMatch.length),{tree:n,token:RegExp.lastMatch});return"string"==typeof a?"parenStart"===a?(n.push(e=[]),e.parent=n,n=e):"parenEnd"===a&&n.parent&&(n=n.parent):n=(a&&a.constructor===Object&&(t+=a.value,a=a.tree),n.concat(a)),{ret:!0,tree:n,value:t}},parseExpression:function(e){var t,r=[],n="";for(this.lastTreeInExpression=r;(t=this.lookUp(e.slice(n.length),n))&&(r=r.concat(t.tree),n=t.value,this.lastTreeInExpression=r,t.ret););return{tree:r=r.length?this.composeExpression(r):r,value:n}},parseBool:function(e){return[{type:"boolean",data:e}]},parseText:function(e){var t=[];if(this.parseEmbeddedVars)for(var r=/([$][\w@]+)|`([^`]*)`/,n=r.exec(e);n;n=r.exec(e)){t.push({type:"text",data:e.slice(0,n.index)});var a=this.parseExpression(n[1]||n[2]);t.push(a.tree),e=e.slice(n.index+n[0].length)}return t.push({type:"text",data:e}),t},loadTemplate:function(e,t){var r=[];if(!t&&e in this.files)r=this.files[e];else{this.files[e]={};t=this.getTemplate(e);if("string"!=typeof t)throw new Error("No template for "+e);r=this.getTree(t),this.files[e]=r}return r},removeComments:function(e){for(var t=new RegExp(this.ldelim+"\\*"),r=new RegExp("\\*"+this.rdelim),n="",a=e.match(t);a;a=e.match(t)){n+=e.slice(0,a.index);var s=(e=e.slice(a.index+a[0].length)).match(r);if(!s)throw new Error("Unclosed "+t+"*");e=e.slice(s.index+s[0].length)}return n+e},applyFilters:function(e,t){for(var r=0;r<e.length;++r)t=e[r](t);return t},tokens:[{regex:/^\$([\w@]+)/,parse:function(e,t){var r=this.parseVar(e,RegExp.$1,RegExp.$1),e=this.parseModifiers(r.s,r.tree);return e?(r.value+=e.value,e):r}},{regex:/^(true|false)/i,parse:function(e,t){return t.token.match(/true/i)?this.parseBool(!0):this.parseBool(!1)}},{regex:/^'([^'\\]*(?:\\.[^'\\]*)*)'/,parse:function(e,t){var r=evalString(RegExp.$1),r=this.parseText(r),e=this.parseModifiers(e,r);return e||r}},{regex:/^"([^"\\]*(?:\\.[^"\\]*)*)"/,parse:function(e,t){var r=evalString(RegExp.$1),n=r.match(this.tokens[0].regex);if(n){var a=this.parseVar(r,n[1],n[0]);if(a.token.length===r.length)return[a.tree[0]]}this.parseEmbeddedVars=!0;a=[];a.push({type:"plugin",name:"__quoted",params:{__parsed:this.parse(r,[])}}),this.parseEmbeddedVars=!1;e=this.parseModifiers(e,a);return e||a}},{regex:/^(\w+)\s*[(]([)]?)/,parse:function(e,t){var r=RegExp.$1,n=RegExp.$2,n=this.parseParams(n?"":e,/^\s*,\s*/),r=this.parseFunc(r,n,[]),n=this.parseModifiers(e.slice(n.toString().length),r);return n||r}},{regex:/^\s*\(\s*/,parse:function(e,t){return"parenStart"}},{regex:/^\s*\)\s*/,parse:function(e,t){return"parenEnd"}},{regex:/^\s*(\+\+|--)\s*/,parse:function(e,t){return this.lastTreeInExpression.length&&"var"===this.lastTreeInExpression[this.lastTreeInExpression.length-1].type?this.parseOperator(RegExp.$1,"post-unary",1):this.parseOperator(RegExp.$1,"pre-unary",1)}},{regex:/^\s*(===|!==|==|!=)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1,"binary",6)}},{regex:/^\s+(eq|ne|neq)\s+/i,parse:function(e,t){var r=RegExp.$1.replace(/ne(q)?/,"!=").replace(/eq/,"==");return this.parseOperator(r,"binary",6)}},{regex:/^\s*!\s*/,parse:function(e,t){return this.parseOperator("!","pre-unary",2)}},{regex:/^\s+not\s+/i,parse:function(e,t){return this.parseOperator("!","pre-unary",2)}},{regex:/^\s*(=|\+=|-=|\*=|\/=|%=)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1,"binary",10)}},{regex:/^\s*(\*|\/|%)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1,"binary",3)}},{regex:/^\s+mod\s+/i,parse:function(e,t){return this.parseOperator("%","binary",3)}},{regex:/^\s*(\+|-)\s*/,parse:function(e,t){return this.lastTreeInExpression.length&&"operator"!==this.lastTreeInExpression[this.lastTreeInExpression.length-1].name?this.parseOperator(RegExp.$1,"binary",4):this.parseOperator(RegExp.$1,"pre-unary",4)}},{regex:/^\s*(<=|>=|<>|<|>)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1.replace(/<>/,"!="),"binary",5)}},{regex:/^\s+(lt|lte|le|gt|gte|ge)\s+/i,parse:function(e,t){var r=RegExp.$1.replace(/l(t)?e/,"<").replace(/lt/,"<=").replace(/g(t)?e/,">").replace(/gt/,">=");return this.parseOperator(r,"binary",5)}},{regex:/^\s+(is\s+(not\s+)?div\s+by)\s+/i,parse:function(e,t){return this.parseOperator(RegExp.$2?"div_not":"div","binary",7)}},{regex:/^\s+is\s+(not\s+)?(even|odd)(\s+by\s+)?\s*/i,parse:function(e,t){var r=RegExp.$1?"odd"===RegExp.$2?"even":"even_not":"odd"===RegExp.$2?"even_not":"even",r=this.parseOperator(r,"binary",7);return RegExp.$3?r:r.concat(this.parseText("1",r))}},{regex:/^\s*(&&)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1,"binary",8)}},{regex:/^\s*(\|\|)\s*/,parse:function(e,t){return this.parseOperator(RegExp.$1,"binary",9)}},{regex:/^\s+and\s+/i,parse:function(e,t){return this.parseOperator("&&","binary",11)}},{regex:/^\s+xor\s+/i,parse:function(e,t){return this.parseOperator("xor","binary",12)}},{regex:/^\s+or\s+/i,parse:function(e,t){return this.parseOperator("||","binary",13)}},{regex:/^#(\w+)#/,parse:function(e,t){var r=this.parseVar(".config."+RegExp.$1,"smarty","$smarty"),n=this.parseModifiers(r.s,r.tree);return n?(r.value+=n.value,n):r}},{regex:/^\s*\[\s*/,parse:function(e,t){var r=this.parseParams(e,/^\s*,\s*/,/^('[^'\\]*(?:\\.[^'\\]*)*'|"[^"\\]*(?:\\.[^"\\]*)*"|\w+)\s*=>\s*/),n=this.parsePluginFunc("__array",r),a=r.toString(),r=e.slice(r.toString().length).match(/\s*\]/);return r&&(a+=r[0]),{tree:n,value:a}}},{regex:/^[\d.]+/,parse:function(e,t){-1<t.token.indexOf(".")?t.token=parseFloat(t.token):t.token=parseInt(t.token,10);t=this.parseText(t.token),e=this.parseModifiers(e,t);return e||t}},{regex:/^\w+/,parse:function(e,t){t=this.parseText(t.token),e=this.parseModifiers(e,t);return e||t}}],buildInFunctions:{expression:{parse:function(e){var t=this.parseExpression(e);return{type:"build-in",name:"expression",expression:t.tree,params:this.parseParams(e.slice(t.value.length).replace(/^\s+|\s+$/g,""))}}},section:{type:"block",parse:function(e,t){var r=[],n=[],a=this.findElseTag("section [^}]+","/section","sectionelse",t);return a?(r=this.parse(t.slice(0,a.index)),n=this.parse(t.slice(a.index+a[0].length).replace(/^[\r\n]/,""))):r=this.parse(t),{type:"build-in",name:"section",params:e,subTree:r,subTreeElse:n}}},setfilter:{type:"block",parseParams:function(e){return[this.parseExpression("__t()|"+e).tree]},parse:function(e,t){return{type:"build-in",name:"setfilter",params:e,subTree:this.parse(t)}}},config_load:{type:"function",parse:function(e){var t=trimAllQuotes(e.file||e[0]);return{type:"build-in",name:"config_load",params:e,content:this.getConfig(t),section:trimAllQuotes(e.section||e[1]||"")}}},append:{type:"function",parse:function(e){return{type:"build-in",name:"append",params:e}}},assign:{type:"function",parse:function(e){return{type:"build-in",name:"assign",params:e}}},break:{type:"function",parse:function(e){return{type:"build-in",name:"break",params:e}}},continue:{type:"function",parse:function(e){return{type:"build-in",name:"continue",params:e}}},call:{type:"function",parse:function(e){return{type:"build-in",name:"call",params:e}}},capture:{type:"block",parse:function(e,t){return{type:"build-in",name:"capture",params:e,subTree:this.parse(t)}}},nocache:{type:"block",parse:function(e,t){return{type:"build-in",name:"nocache",params:e,subTree:this.parse(t)}}},eval:{type:"function",parse:function(e){return this.parsePluginFunc("eval",e)}},include:{type:"function",parse:function(e){var t=trimAllQuotes(e.file||e[0]),r=0<=findInArray(e,"nocache");return{type:"build-in",name:"include",params:e,subTree:this.loadTemplate(t,r)}}},for:{type:"block",parseParams:function(e){var t=e.match(/^\s*\$(\w+)\s*=\s*([^\s]+)\s*to\s*([^\s]+)\s*(?:step\s*([^\s]+))?\s*(.*)$/);if(!t)throw new Error("Invalid {for} parameters: "+e);return this.parseParams("varName='"+t[1]+"' from="+t[2]+" to="+t[3]+" step="+(t[4]||"1")+" "+t[5])},parse:function(e,t){var r=[],n=[],a=this.findElseTag("for\\s[^}]+","/for","forelse",t);return a?(r=this.parse(t.slice(0,a.index)),n=this.parse(t.slice(a.index+a[0].length))):r=this.parse(t),{type:"build-in",name:"for",params:e,subTree:r,subTreeElse:n}}},if:{type:"block",parse:function(e,t){var r=[],n=[],a=this.findElseTag("if\\s+[^}]+","/if","else[^}]*",t);return a?(r=this.parse(t.slice(0,a.index)),t=t.slice(a.index+a[0].length),n=(a=a[1].match(/^else\s*if(.*)/))?this.buildInFunctions.if.parse.call(this,this.parseParams(a[1]),t.replace(/^\n/,"")):this.parse(t.replace(/^\n/,""))):r=this.parse(t),[{type:"build-in",name:"if",params:e,subTreeIf:r,subTreeElse:n}]}},foreach:{type:"block",parseParams:function(e){var t=e.match(/^\s*([$].+)\s*as\s*[$](\w+)\s*(=>\s*[$](\w+))?\s*$/i);return t&&(e="from="+t[1]+" item="+(t[4]||t[2]),t[4]&&(e+=" key="+t[2])),this.parseParams(e)},parse:function(e,t){var r=[],n=[],a=this.findElseTag("foreach\\s[^}]+","/foreach","foreachelse",t);return a?(r=this.parse(t.slice(0,a.index)),n=this.parse(t.slice(a.index+a[0].length).replace(/^[\r\n]/,""))):r=this.parse(t),{type:"build-in",name:"foreach",params:e,subTree:r,subTreeElse:n}}},function:{type:"block",parse:function(e,t){this.runTimePlugins[trimAllQuotes(e.name||e[0])]=!0;t=this.parse(t);return!(this.runTimePlugins[trimAllQuotes(e.name||e[0])]={tree:t,defaultParams:e})}},extends:{type:"function",parse:function(e){return this.loadTemplate(trimAllQuotes(e.file||e[0]),!0)}},block:{type:"block",parse:function(e,t){var r;e.append=0<=findInArray(e,"append"),e.prepend=0<=findInArray(e,"prepend"),e.hide=0<=findInArray(e,"hide");var n,a=this.parse(t,[]),s=trimAllQuotes(e.name||e[0]);return s in this.blocks?(this.outerBlocks[s]=[],this.outerBlocks[s]={tree:a,params:e},n="outer",r=t.match(/smarty.block.parent/),e.needParent=!1,r&&(e.needParent=!0)):(this.blocks[s]=[],this.blocks[s]={tree:a,params:e},n="inner",r=t.match(/smarty.block.child/),e.needChild=!1,r&&(e.needChild=!0)),{type:"build-in",name:"block",params:e,location:n}}},strip:{type:"block",parse:function(e,t){return this.parse(t.replace(/[ \t]*[\r\n]+[ \t]*/g,""))}},literal:{type:"block",parse:function(e,t){return this.parseText(t)}},ldelim:{type:"function",parse:function(e){return this.parseText(this.ldelim)}},rdelim:{type:"function",parse:function(e){return this.parseText(this.rdelim)}},while:{type:"block",parse:function(e,t){return{type:"build-in",name:"while",params:e,subTree:this.parse(t)}}}}};function isEmptyObject(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return;return 1}function countProperties(e){var t,r=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r++;return r}var jSmartProcessor={tplModifiers:[],runTimePlugins:{},plugins:{},modifiers:{},defaultModifiers:{},escapeHtml:!1,variableFilters:[],outerBlocks:{},blocks:{},debugging:!1,clear:function(){this.runTimePlugins={},this.variableFilters=[],this.escapeHtml=!1,this.defaultModifiers={},this.modifiers={},this.plugins={},this.blocks={},this.outerBlocks={},this.debugging=!1,this.includedTemplates=[]},getProcessed:function(e,t){e=this.process(e,t);return this.debugging&&this.plugins.debug.process([],{includedTemplates:this.includedTemplates,assignedVars:t}),this.clear(),{output:e.tpl,smarty:e.smarty}},process:function(e,t,r){for(var n,a,s,i,o="",l=0;l<e.length;++l){if(n="","text"===(a=e[l]).type)n=a.data;else if("var"===a.type)n=this.getVarValue(a,t);else if("boolean"===a.type)n=!!a.data;else if("build-in"===a.type)void 0!==(s=this.buildInFunctions[a.name].process.call(this,a,t)).tpl?(n=s.tpl,t=s.data,s.return&&r&&(n=s.return)):n=s;else if("plugin"===a.type)if(this.runTimePlugins[a.name])void 0!==(s=this.buildInFunctions.function.process.call(this,a,t)).tpl?(n=s.tpl,t=s.data):n=s;else if("block"===(i=this.plugins[a.name]).type)for(var p={value:!0};p.value;)p.value=!1,void 0!==(s=this.process(a.subTree,t)).tpl&&(t=s.data,s=s.tpl),n+=i.process.call(this,this.getActualParamValues(a.params,t),s,t,p);else"function"===i.type&&(n=i.process.call(this,this.getActualParamValues(a.params,t),t));if(null==(n="boolean"==typeof n&&1!==e.length?n?"1":"":n)&&(n=""),1===e.length)return{tpl:n,data:t};if(o+=null!==n?n:"",t.smarty.continue||t.smarty.break)return{tpl:o,data:t}}return{tpl:o,data:t}},configLoad:function(e,t,r){for(var n=e.replace(/\r\n/g,"\n").replace(/^\s+|\s+$/g,""),a=/^\s*(?:\[([^\]]+)\]|(?:(\w+)[ \t]*=[ \t]*("""|'[^'\\\n]*(?:\\.[^'\\\n]*)*'|"[^"\\\n]*(?:\\.[^"\\\n]*)*"|[^\n]*)))/m,s="",i=n.match(a);i;i=n.match(a)){n=n.slice(i.index+i[0].length),i[1]?s=i[1]:s&&s!==t||"."===s.substr(0,1)||('"""'===i[3]?(o=n.match(/"""/))&&(r.smarty.config[i[2]]=n.slice(0,o.index),n=n.slice(o.index+o[0].length)):r.smarty.config[i[2]]=trimAllQuotes(i[3]));var o=n.match(/\n+/);if(!o)break;n=n.slice(o.index+o[0].length)}return r},getActualParamValues:function(e,t,r){var n,a,s=[];for(a in e.__parsed)Object.prototype.hasOwnProperty.call(e.__parsed,a)&&(void 0!==(n=this.process([e.__parsed[a]],t,r))&&(t=n.data,n=n.tpl),s[a]=n);return s.__get=function(e,t,r){if(e in s&&void 0!==s[e])return s[e];if(void 0!==r&&void 0!==s[r])return s[r];if(null===t)throw new Error('The required attribute "'+e+'" is missing');return t},s},getVarValue:function(e,t,r){for(var n,a=t,s="",i=0;i<e.parts.length;++i)if("plugin"===(n=e.parts[i]).type&&"__func"===n.name&&n.hasOwner)t.__owner=a,void 0!==(a=this.process([e.parts[i]],t)).tpl&&(t=a.data,a=a.tpl),delete t.__owner;else{void 0!==(s=this.process([n],t))&&(t=s.data,s=s.tpl);var o=this.process([e.parts[0]],t);if(void 0!==o&&(t=o.data,o=o.tpl),!(s=s in t.smarty.section&&"text"===n.type&&"smarty"!==o?t.smarty.section[s].index:s)&&void 0!==r&&a instanceof Array&&(s=a.length),void 0!==r&&i===e.parts.length-1&&(a[s]=r),"object"==typeof a&&null!==a&&s in a)a=a[s];else{if(void 0===r)return r;a[s]={},a=a[s]}}return a},applyFilters:function(e,t){for(var r=0;r<e.length;++r)t=e[r](t);return t},assignVar:function(e,t,r){return e.match(/\[\]$/)?r[e.replace(/\[\]$/,"")].push(t):r[e]=t,r},buildInFunctions:{expression:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=this.process([e.expression],t);if(void 0!==n&&(t=n.data,n=n.tpl),findInArray(r,"nofilter")<0){for(var a=0;a<this.defaultModifiers.length;++a){var s=this.defaultModifiers[a];s.params.__parsed[0]={type:"text",data:n},void 0!==(n=this.process([s],t))&&(t=n.data,n=n.tpl)}this.escapeHtml&&(n=this.modifiers.escape(n)),n=this.applyFilters(this.variableFilters,n),this.tplModifiers.length&&("object"==typeof window&&window.document?window.__t=function(){return n}:global.__t=function(){return n},void 0!==(n=this.process(this.tplModifiers[this.tplModifiers.length-1],t))&&(t=n.data,n=n.tpl))}return{tpl:n,data:t}}},append:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=r.__get("var",null,0);n in t&&t[n]instanceof Array||(t[n]=[]);e=r.__get("index",!1),r=r.__get("value",null,1);return!1===e?t[n].push(r):t[n][e]=r,{tpl:"",data:t}}},assign:{process:function(e,t){e=this.getActualParamValues(e.params,t);return{tpl:"",data:this.assignVar(e.__get("var",null,0),e.__get("value",null,1),t)}}},config_load:{process:function(e,t){return{tpl:"",data:t=this.configLoad(e.content,e.section,t)}}},capture:{process:function(e,t){var r=this.getActualParamValues(e.params,t),e=this.process(e.subTree,t);void 0!==e&&(t=e.data,e=e.tpl),e=e.replace(/^\n/,""),t.smarty.capture[r.__get("name","default",0)]=e,"assign"in r&&(t=this.assignVar(r.assign,e,t));r=r.__get("append",!1);return r&&(r in t?t[r]instanceof Array&&t[r].push(e):t[r]=[e]),{tpl:"",data:t}}},operator:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=r[0];if("binary"!==e.optype){if("!"===e.op)return!n;var a,s=n=(a="var"===e.params.__parsed[0].type)?this.getVarValue(e.params.__parsed[0],t):n;if("pre-unary"===e.optype){switch(e.op){case"-":s=-n;break;case"++":s=++n;break;case"--":s=--n}a&&this.getVarValue(e.params.__parsed[0],t,n)}else{switch(e.op){case"++":n++;break;case"--":n--}this.getVarValue(e.params.__parsed[0],t,n)}return s}var i=r[1];if("="===e.op)return{tpl:"",data:t,return:this.getVarValue(e.params.__parsed[0],t,i)};if(e.op.match(/(\+=|-=|\*=|\/=|%=)/)){switch(n=this.getVarValue(e.params.__parsed[0],t),e.op){case"+=":n+=i;break;case"-=":n-=i;break;case"*=":n*=i;break;case"/=":n/=i;break;case"%=":n%=i}return this.getVarValue(e.params.__parsed[0],t,n)}if(e.op.match(/div/))return"div"!==e.op^n%i==0;if(e.op.match(/even/))return"even"!==e.op^n/i%2==0;if(e.op.match(/xor/))return(n||i)&&!(n&&i);switch(e.op){case"==":return n==i;case"!=":return n!=i;case"+":return Number(n)+Number(i);case"-":return Number(n)-Number(i);case"*":return Number(n)*Number(i);case"/":return Number(n)/Number(i);case"%":return Number(n)%Number(i);case"&&":return n&&i;case"||":return n||i;case"<":return n<i;case"<=":return n<=i;case">":return i<n;case"===":return n===i;case">=":return i<=n;case"!==":return n!==i}}},section:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n={},a=r.__get("show",!0);if(!((t.smarty.section[r.__get("name",null,0)]=n).show=a))return this.process(e.subTreeElse,t);var s=parseInt(r.__get("start",0),10),i=r.loop instanceof Object?countProperties(r.loop):isNaN(r.loop)?0:parseInt(r.loop),o=parseInt(r.__get("step",1),10),l=parseInt(r.__get("max"),10);isNaN(l)&&(l=Number.MAX_VALUE),s<0?(s+=i)<0&&(s=0):i<=s&&(s=i?i-1:0);for(var p=0,u=s,p=0,c="",u=s;0<=u&&u<i&&p<l&&!t.smarty.break;u+=o,++p){n.first=u===s,n.last=u+o<0||i<=u+o,n.index=u,n.index_prev=u-o,n.index_next=u+o,n.iteration=n.rownum=p+1,n.total=p,n.loop=p;var g=this.process(e.subTree,t);void 0!==g&&(t=g.data,c+=g.tpl),t.smarty.continue=!1}return n.total=p,n.loop=p,t.smarty.break=!1,p?{tpl:c,data:t}:this.process(e.subTreeElse,t)}},setfilter:{process:function(e,t){this.tplModifiers.push(e.params);e=this.process(e.subTree,t);return void 0!==e&&(t=e.data,e=e.tpl),this.tplModifiers.pop(),{tpl:e,data:t}}},for:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=parseInt(r.__get("from"),10),a=parseInt(r.__get("to"),10),s=parseInt(r.__get("step"),10);isNaN(s)&&(s=1);var i=parseInt(r.__get("max"),10);isNaN(i)&&(i=Number.MAX_VALUE);for(var o=0,l="",p=Math.min(Math.ceil((1+(0<s?a-n:n-a))/Math.abs(s)),i),u=parseInt(r.from,10);o<p&&!t.smarty.break;u+=s,++o){t[r.varName]=u;var c=this.process(e.subTree,t);void 0!==c&&(t=c.data,l+=c.tpl),t.smarty.continue=!1}return t.smarty.break=!1,o||void 0!==(i=this.process(e.subTreeElse,t))&&(t=i.data,l=i.tpl),{tpl:l,data:t}}},if:{process:function(e,t){var r=this.getActualParamValues(e.params,t,!0)[0];return r&&!(r instanceof Array&&0===r.length||"object"==typeof r&&isEmptyObject(r))?this.process(e.subTreeIf,t):this.process(e.subTreeElse,t)}},nocache:{process:function(e,t){return this.process(e.subTree,t)}},foreach:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=r.from,a=countProperties(n="object"!=typeof(n=void 0===n?[]:n)?[n]:n);t[r.item+"__total"]=a,"name"in r&&(t.smarty.foreach[r.name]={},t.smarty.foreach[r.name].total=a);var s,i="",o=0;for(s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(t.smarty.break)break;t[r.item+"__key"]=isNaN(s)?s:parseInt(s,10),"key"in r&&(t[r.key]=t[r.item+"__key"]),t[r.item]=n[s],t[r.item+"__index"]=parseInt(o,10),t[r.item+"__iteration"]=parseInt(o+1,10),t[r.item+"__first"]=0===o,t[r.item+"__last"]=o===a-1,"name"in r&&(t.smarty.foreach[r.name].index=parseInt(o,10),t.smarty.foreach[r.name].iteration=parseInt(o+1,10),t.smarty.foreach[r.name].first=0===o?1:"",t.smarty.foreach[r.name].last=o===a-1?1:""),++o;var l=this.process(e.subTree,t);void 0!==l&&(t=l.data,i+=l.tpl),t.smarty.continue=!1}return t.smarty.break=!1,t[r.item+"__show"]=0<o,r.name&&(t.smarty.foreach[r.name].show=0<o?1:""),0<o?i:this.process(e.subTreeElse,t)}},break:{process:function(e,t){return t.smarty.break=!0,{tpl:"",data:t}}},continue:{process:function(e,t){return t.smarty.continue=!0,{tpl:"",data:t}}},block:{process:function(e,t){var r,n,a=trimAllQuotes(e.params.name||e.params[0]),s=this.blocks[a],a=this.outerBlocks[a];return"inner"===e.location?s.params.needChild?(void 0!==(n=this.process(a.tree,t)).tpl&&(n=n.tpl),t.smarty.block.child=n,r=void 0!==(r=this.process(s.tree,t)).tpl?r.tpl:r):a.params.needParent?(void 0!==(r=this.process(s.tree,t)).tpl&&(r=r.tpl),t.smarty.block.parent=r,n=void 0!==(n=this.process(a.tree,t)).tpl?n.tpl:n):(void 0!==(n=this.process(a.tree,t)).tpl&&(n=n.tpl),a.params.append?n+(r=void 0!==(r=this.process(s.tree,t)).tpl?r.tpl:r):a.params.prepend?(r=void 0!==(r=this.process(s.tree,t)).tpl?r.tpl:r)+n:n):""}},call:{process:function(e,t){var r=this.getActualParamValues(e.params,t),e={name:r.__get("name")?r.__get("name"):r.__get("0"),params:e.params},e=this.buildInFunctions.function.process.call(this,e,t),r=r.__get("assign",!1);return r?{tpl:"",data:this.assignVar(r,e,t)}:e}},include:{process:function(e,t){var r=this.getActualParamValues(e.params,t),n=r.__get("file",null,0);this.includedTemplates.push(n);var a=objectMerge({},t,r);a.smarty.template=n;a=this.process(e.subTree,a);return void 0!==a&&(a=a.tpl),r.assign?{tpl:"",data:this.assignVar(r.assign,a,t)}:a}},function:{process:function(e,t){var r=this.runTimePlugins[e.name],n=this.getActualParamValues(r.defaultParams,t);delete n.name;e=this.getActualParamValues(e.params,t);return this.process(r.tree,objectMerge({},t,n,e)).tpl}},while:{process:function(e,t){for(var r="";this.getActualParamValues(e.params,t)[0]&&!t.smarty.break;){var n=this.process(e.subTree,t);void 0!==n&&(t=n.data,r+=n.tpl),t.smarty.continue=!1}return t.smarty.break=!1,{tpl:r,data:t}}}}},version="4.0.0",jSmart=function(e,t){this.smarty={block:{},break:!1,capture:{},continue:!1,counter:{},cycle:{},foreach:{},section:{},now:Math.floor((new Date).getTime()/1e3),const:{},config:{},current_dir:"/",template:"",ldelim:"{",rdelim:"}",version:version},this.autoLiteral=!0,this.escapeHtml=!1,this.debugging=!1,this.outerBlocks={},this.blocks={},this.parse(e,t)};function getHtmlTranslationTable(e,t){var r,n,a,s={},i={},o={},l={};if(o[0]="HTML_SPECIALCHARS",o[1]="HTML_ENTITIES",l[0]="ENT_NOQUOTES",l[2]="ENT_COMPAT",l[3]="ENT_QUOTES",n=isNaN(e)?e?e.toUpperCase():"HTML_SPECIALCHARS":o[e],a=isNaN(t)?t?t.toUpperCase():"ENT_COMPAT":l[t],"HTML_SPECIALCHARS"!==n&&"HTML_ENTITIES"!==n)throw new Error("Table: "+n+" not supported");for(r in s[38]="&amp;","HTML_ENTITIES"===n&&(s[160]="&nbsp;",s[161]="&iexcl;",s[162]="&cent;",s[163]="&pound;",s[164]="&curren;",s[165]="&yen;",s[166]="&brvbar;",s[167]="&sect;",s[168]="&uml;",s[169]="&copy;",s[170]="&ordf;",s[171]="&laquo;",s[172]="&not;",s[173]="&shy;",s[174]="&reg;",s[175]="&macr;",s[176]="&deg;",s[177]="&plusmn;",s[178]="&sup2;",s[179]="&sup3;",s[180]="&acute;",s[181]="&micro;",s[182]="&para;",s[183]="&middot;",s[184]="&cedil;",s[185]="&sup1;",s[186]="&ordm;",s[187]="&raquo;",s[188]="&frac14;",s[189]="&frac12;",s[190]="&frac34;",s[191]="&iquest;",s[192]="&Agrave;",s[193]="&Aacute;",s[194]="&Acirc;",s[195]="&Atilde;",s[196]="&Auml;",s[197]="&Aring;",s[198]="&AElig;",s[199]="&Ccedil;",s[200]="&Egrave;",s[201]="&Eacute;",s[202]="&Ecirc;",s[203]="&Euml;",s[204]="&Igrave;",s[205]="&Iacute;",s[206]="&Icirc;",s[207]="&Iuml;",s[208]="&ETH;",s[209]="&Ntilde;",s[210]="&Ograve;",s[211]="&Oacute;",s[212]="&Ocirc;",s[213]="&Otilde;",s[214]="&Ouml;",s[215]="&times;",s[216]="&Oslash;",s[217]="&Ugrave;",s[218]="&Uacute;",s[219]="&Ucirc;",s[220]="&Uuml;",s[221]="&Yacute;",s[222]="&THORN;",s[223]="&szlig;",s[224]="&agrave;",s[225]="&aacute;",s[226]="&acirc;",s[227]="&atilde;",s[228]="&auml;",s[229]="&aring;",s[230]="&aelig;",s[231]="&ccedil;",s[232]="&egrave;",s[233]="&eacute;",s[234]="&ecirc;",s[235]="&euml;",s[236]="&igrave;",s[237]="&iacute;",s[238]="&icirc;",s[239]="&iuml;",s[240]="&eth;",s[241]="&ntilde;",s[242]="&ograve;",s[243]="&oacute;",s[244]="&ocirc;",s[245]="&otilde;",s[246]="&ouml;",s[247]="&divide;",s[248]="&oslash;",s[249]="&ugrave;",s[250]="&uacute;",s[251]="&ucirc;",s[252]="&uuml;",s[253]="&yacute;",s[254]="&thorn;",s[255]="&yuml;",s[8364]="&euro;"),"ENT_NOQUOTES"!==a&&(s[34]="&quot;"),"ENT_QUOTES"===a&&(s[39]="&#39;"),s[60]="&lt;",s[62]="&gt;",s)Object.prototype.hasOwnProperty.call(s,r)&&(i[String.fromCharCode(r)]=s[r]);return i}jSmart.prototype={constructor:jSmart,tree:[],scripts:{},modifiers:{},defaultModifiers:[],defaultModifiersGlobal:[],globalAndDefaultModifiers:[],filters:{variable:[],post:[]},filtersGlobal:{pre:[],variable:[],post:[]},globalAndDefaultFilters:[],buildInFunctions:{},plugins:{},runTimePlugins:{},parse:function(e,t){(t=t||{}).rdelim?this.smarty.rdelim=t.rdelim:jSmart.prototype.right_delimiter?this.smarty.rdelim=jSmart.prototype.right_delimiter:this.smarty.rdelim="}",t.ldelim?this.smarty.ldelim=t.ldelim:jSmart.prototype.left_delimiter?this.smarty.ldelim=jSmart.prototype.left_delimiter:this.smarty.ldelim="{",void 0!==t.autoLiteral?this.autoLiteral=t.autoLiteral:void 0!==jSmart.prototype.auto_literal&&(this.autoLiteral=jSmart.prototype.auto_literal),void 0!==t.debugging?this.debugging=t.debugging:void 0!==jSmart.prototype.debugging&&(this.debugging=jSmart.prototype.debugging),void 0!==t.escapeHtml?this.escapeHtml=t.escapeHtml:void 0!==jSmart.prototype.escape_html&&(this.escapeHtml=jSmart.prototype.escape_html),e=String(e||""),jSmartParser.clear(),jSmartParser.rdelim=this.smarty.rdelim,jSmartParser.ldelim=this.smarty.ldelim,jSmartParser.getTemplate=this.getTemplate,jSmartParser.getConfig=this.getConfig,jSmartParser.autoLiteral=this.autoLiteral,jSmartParser.plugins=this.plugins,jSmartParser.preFilters=this.filtersGlobal.pre,e=jSmartParser.getParsed(e),this.tree=e.tree,this.runTimePlugins=e.runTimePlugins,this.blocks=e.blocks,this.outerBlocks=e.outerBlocks},fetch:function(e){var t;return(e="object"!=typeof e?{}:e).smarty={},objectMerge(e.smarty,this.smarty),this.globalAndDefaultModifiers=jSmart.prototype.defaultModifiersGlobal.concat(this.defaultModifiers),this.globalAndDefaultFilters=jSmart.prototype.filtersGlobal.variable.concat(this.filters.variable),jSmartProcessor.clear(),jSmartProcessor.plugins=this.plugins,jSmartProcessor.modifiers=this.modifiers,jSmartProcessor.defaultModifiers=this.defaultModifiers,jSmartProcessor.escapeHtml=this.escapeHtml,jSmartProcessor.variableFilters=this.globalAndDefaultFilters,jSmartProcessor.runTimePlugins=this.runTimePlugins,jSmartProcessor.blocks=this.blocks,jSmartProcessor.outerBlocks=this.outerBlocks,jSmartProcessor.debugging=this.debugging,t=jSmartProcessor.getProcessed(this.tree,e,this.smarty),objectMerge(this.smarty,t.smarty),this.applyFilters(jSmart.prototype.filtersGlobal.post.concat(this.filters.post),t.output)},applyFilters:function(e,t){for(var r=0;r<e.length;++r)t=e[r](t);return t},printR:function(e,t,r){t=t||"&nbsp;&nbsp;",r=r||"";var n,a="";if(e instanceof Object){for(n in a="Object (\n",e)Object.prototype.hasOwnProperty.call(e,n)&&(a+=t+t+"["+n+"] => "+this.printR(e[n],t+"&nbsp;&nbsp;",t+t));return a+=r+")\n"}if(e instanceof Array){for(n in a="Array (\n",e)Object.prototype.hasOwnProperty.call(e,n)&&(a+=t+t+"["+n+"] => "+this.printR(e[n],t+"&nbsp;&nbsp;",t+t));return a+=r+")\n"}if(e instanceof Boolean){r="false";return(r=!0===r?"true":r)+"\n"}return e+"\n"},registerPlugin:function(e,t,r){"modifier"===e?this.modifiers[t]=r:this.plugins[t]={type:e,process:r}},registerFilter:function(e,t){(this.tree?this.filters:jSmart.prototype.filtersGlobal)["output"===e?"post":e].push(t)},addDefaultModifier:function(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;++t){var r=jSmartParser.parseModifiers("|"+e[t],[0]);(this.tree?this.defaultModifiers:this.defaultModifiersGlobal).push(r.tree[0])}},getTemplate:function(e){throw new Error("No template for "+e)},getFile:function(e){throw new Error("No file for "+e)},getJavascript:function(e){throw new Error("No Javascript for "+e)},getConfig:function(e){throw new Error("No config for "+e)}};var phpJs={ord:function(e){var t=e+"",e=t.charCodeAt(0);return!(55296<=e&&e<=56319)||1===t.length?e:1024*(e-55296)+(t.charCodeAt(1)-56320)+65536},bin2Hex:function(e){for(var t,r="",n=0,a=(e+="").length;n<a;n++)r+=(t=e.charCodeAt(n).toString(16)).length<2?"0"+t:t;return r},htmlEntityDecode:function(e,t){var r,n=e.toString(),a="",s=getHtmlTranslationTable("HTML_ENTITIES",t);if(!1===s)return!1;for(a in delete s["&"],s["&"]="&amp;",s)r=s[a],n=n.split(r).join(a);return n=n.split("&#039;").join("'")},objectKeys:function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r},htmlEntities:function(e,t,r,n){var a=getHtmlTranslationTable("HTML_ENTITIES",t);if(e=null===e?"":e+"",!a)return!1;t&&"ENT_QUOTES"===t&&(a["'"]="&#039;"),n=null===n||!!n;t=Object.keys?Object.keys(a):phpJs.objectKeys(a),t=new RegExp("&(?:#\\d+|#x[\\da-f]+|[a-zA-Z][\\da-z]*);|["+t.join("").replace(/([()[\]{}\-.*+?^$|/\\])/g,"\\$1")+"]","g");return e.replace(t,function(e){return 1<e.length?n?a["&"]+e.substr(1):e:a[e]})},rawUrlDecode:function(e){return decodeURIComponent((e+"").replace(/%(?![\da-f]{2})/gi,function(){return"%25"}))},rawUrlEncode:function(e){return e+="",encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")},sprintf:function(){function b(e,t,r,n){return r=r||" ",r=e.length>=t?"":new Array(1+t-e.length>>>0).join(r),n?e+r:r+e}function _(e,t,r,n,a,s){var i=n-e.length;return e=0<i?r||!a?b(e,n,s,r):[e.slice(0,t.length),b("",i,"0",!0),e.slice(t.length)].join(""):e}function v(e,t,r,n,a,s,i){var o=e>>>0;return e=(r=r&&o&&{2:"0b",8:"0",16:"0x"}[t]||"")+b(o.toString(t),s||0,"0",!1),_(e,r,n,a,i)}function w(e,t,r,n,a,s){return null!=n&&(e=e.slice(0,n)),_(e,"",t,r,a,s)}var x=arguments,j=0,e=x[j++];return e.replace(/%%|%(\d+\$)?([-+'#0 ]*)(\*\d+\$|\*|\d+)?(?:\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(e,t,r,n,a,s){var i,o,l,p,u;if("%%"===e)return"%";for(var c=!1,g="",h=!1,f=!1,d=" ",m=r.length,y=0;y<m;y++)switch(r.charAt(y)){case" ":g=" ";break;case"+":g="+";break;case"-":c=!0;break;case"'":d=r.charAt(y+1);break;case"0":h=!0,d="0";break;case"#":f=!0}if((n=n?"*"===n?+x[j++]:"*"===n.charAt(0)?+x[n.slice(1,-1)]:+n:0)<0&&(n=-n,c=!0),!isFinite(n))throw new Error("sprintf: (minimum-)width must be finite");switch(a=a?"*"===a?+x[j++]:"*"===a.charAt(0)?+x[a.slice(1,-1)]:+a:-1<"fFeE".indexOf(s)?6:"d"===s?0:void 0,u=t?x[t.slice(0,-1)]:x[j++],s){case"s":return w(u+"",c,n,a,h,d);case"c":return w(String.fromCharCode(+u),c,n,a,h);case"b":return v(u,2,f,c,n,a,h);case"o":return v(u,8,f,c,n,a,h);case"x":return v(u,16,f,c,n,a,h);case"X":return v(u,16,f,c,n,a,h).toUpperCase();case"u":return v(u,10,f,c,n,a,h);case"i":case"d":return i=+u||0,u=(o=(i=Math.round(i-i%1))<0?"-":g)+b(String(Math.abs(i)),a,"0",!1),_(u,o,c,n,h);case"e":case"E":case"f":case"F":case"g":case"G":return o=(i=+u)<0?"-":g,l=["toExponential","toFixed","toPrecision"]["efg".indexOf(s.toLowerCase())],p=["toString","toUpperCase"]["eEfFgG".indexOf(s)%2],u=o+Math.abs(i)[l](a),phpJs.justify(u,o,c,n,h)[p]();default:return e}})},makeTimeStamp:function(e){if(!e)return Math.floor((new Date).getTime()/1e3);if(isNaN(e)){var t=phpJs.strtotime(e);return-1===t||!1===t?Math.floor((new Date).getTime()/1e3):t}return 14===(e+="").length&&-1!==e.search(/^[\d]+$/g)?phpJs.mktime(e.substr(8,2),e.substr(10,2),e.substr(12,2),e.substr(4,2),e.substr(6,2),e.substr(0,4)):Number(e)},mktime:function(){for(var e=new Date,t=arguments,r=0,n=["Hours","Minutes","Seconds","Month","Date","FullYear"],r=0;r<n.length;r++)if(void 0===t[r])t[r]=e["get"+n[r]](),t[r]+=3===r;else if(t[r]=parseInt(t[r],10),isNaN(t[r]))return!1;t[5]+=0<=t[5]?t[5]<=69?2e3:t[5]<=100?1900:0:0,e.setFullYear(t[5],t[3]-1,t[4]),e.setHours(t[0],t[1],t[2]);var a=e.getTime();return(a/1e3>>0)-(a<0)},_pad:function(e,t,r,n){r=r||" ";r=e.length>=t?"":new Array(1+t-e.length>>>0).join(r);return n?e+r:r+e},justify:function(e,t,r,n,a,s){var i=n-e.length;return e=0<i?r||!a?phpJs._pad(e,n,s,r):[e.slice(0,t.length),phpJs._pad("",i,"0",!0),e.slice(t.length)].join(""):e},strtotime:function(e,t){var r,n,a,s,i,o,l,p;if(!e)return!1;e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var u,c=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));if((u=e.match(c))&&u[2]===u[4])if(1901<u[1])switch(u[2]){case"-":return 12<u[3]||31<u[5]?!1:new Date(u[1],parseInt(u[3],10)-1,u[5],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3;case".":return!1;case"/":return 12<u[3]||31<u[5]?!1:new Date(u[1],parseInt(u[3],10)-1,u[5],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3}else if(1901<u[5])switch(u[2]){case"-":case".":return 12<u[3]||31<u[1]?!1:new Date(u[5],parseInt(u[3],10)-1,u[1],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3;case"/":return 12<u[1]||31<u[3]?!1:new Date(u[5],parseInt(u[1],10)-1,u[3],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3}else switch(u[2]){case"-":return 12<u[3]||31<u[5]||u[1]<70&&38<u[1]?!1:(a=0<=u[1]&&u[1]<=38?+u[1]+2e3:u[1],new Date(a,parseInt(u[3],10)-1,u[5],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3);case".":return 70<=u[5]?!(12<u[3]||31<u[1])&&new Date(u[5],parseInt(u[3],10)-1,u[1],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3:u[5]<60&&!u[6]&&(!(23<u[1]||59<u[3])&&(n=new Date,new Date(n.getFullYear(),n.getMonth(),n.getDate(),u[1]||0,u[3]||0,u[5]||0,u[9]||0)/1e3));case"/":return 12<u[1]||31<u[3]||u[5]<70&&38<u[5]?!1:(a=0<=u[5]&&u[5]<=38?+u[5]+2e3:u[5],new Date(a,parseInt(u[1],10)-1,u[3],u[6]||0,u[7]||0,u[8]||0,u[9]||0)/1e3);case":":return 23<u[1]||59<u[3]||59<u[5]?!1:(n=new Date,new Date(n.getFullYear(),n.getMonth(),n.getDate(),u[1]||0,u[3]||0,u[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(r=Date.parse(e)))return r/1e3|0;if(c=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")),(u=e.match(c))&&("z"===u[4]?u[4]="Z":u[4].match(/^([+-][0-9]{2})$/)&&(u[4]=u[4]+":00"),!isNaN(r=Date.parse(u[1]+"T"+u[2]+u[4]))))return r/1e3|0;function g(e){var t=e.split(" "),r=t[0],n=t[1].substring(0,3),a=/\d+/.test(r),e=("last"===r?-1:1)*("ago"===t[2]?-1:1);if(a&&(e*=parseInt(r,10)),Object.prototype.hasOwnProperty.call(o,n)&&!t[1].match(/^mon(day|\.)?$/i))return s["set"+o[n]](s["get"+o[n]]()+e);if("wee"===n)return s.setDate(s.getDate()+7*e);if("next"===r||"last"===r)r=r,e=e,void 0!==(n=i[n=n])&&(0===(n=n-s.getDay())?n=7*e:0<n&&"last"===r?n-=7:n<0&&"next"===r&&(n+=7),s.setDate(s.getDate()+n));else if(!a)return;return 1}if(s=t?new Date(1e3*t):new Date,i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},o={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},t="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",!(u=e.match(new RegExp("([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)|(last|next)\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?))(\\sago)?","gi"))))return!1;for(p=0,l=u.length;p<l;p++)if(!g(u[p]))return!1;return s.getTime()/1e3},strftime:function(e,t){for(var n=function(e,t,r){for(void 0===r&&(r=10);parseInt(e,10)<r&&1<r;r/=10)e=t.toString()+e;return e.toString()},a={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %r %Z",p:["AM","PM"],P:["am","pm"],r:"%I:%M:%S %p",x:"%m/%d/%Y",X:"%r",alt_digits:"",ERA:"",ERA_YEAR:"",ERA_D_T_FMT:"",ERA_D_FMT:"",ERA_T_FMT:""},s={a:function(e){return a.a[e.getDay()]},A:function(e){return a.A[e.getDay()]},b:function(e){return a.b[e.getMonth()]},B:function(e){return a.B[e.getMonth()]},C:function(e){return n(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return n(parseInt(this.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),r=parseInt(s.V(e),10),e=parseInt(s.W(e),10);return r<e?t++:0===e&&52<=r&&t--,t},H:["getHours","0"],I:function(e){e=e.getHours()%12;return n(0==e?12:e,0)},j:function(e){var t=e-new Date(e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();t=parseInt(t/6e4/60/24,10)+1;return n(t,0,100)},k:["getHours","0"],l:function(e){e=e.getHours()%12;return n(0==e?12:e," ")},m:function(e){return n(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return a.p[12<=e.getHours()?1:0]},P:function(e){return a.P[12<=e.getHours()?1:0]},s:function(e){return Date.parse(e)/1e3},S:["getSeconds","0"],u:function(e){e=e.getDay();return 0===e?7:e},U:function(e){var t=parseInt(s.j(e),10),e=6-e.getDay(),e=parseInt((t+e)/7,10);return n(e,0)},V:function(e){var t=parseInt(s.W(e),10),r=new Date(e.getFullYear()+"/1/1").getDay(),r=t+(4<r||r<=1?0:1);return 53===r&&new Date(e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=s.V(new Date(e.getFullYear()-1+"/12/31"))),n(r,0)},w:"getDay",W:function(e){var t=parseInt(s.j(e),10),e=7-s.u(e),e=parseInt((t+e)/7,10);return n(e,0,10)},y:function(e){return n(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){e=e.getTimezoneOffset();return(0<e?"-":"+")+n(parseInt(Math.abs(e/60),10),0)+n(e%60,0)},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(e){return"%"}},i=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),o={c:"locale",D:"%m/%d/%y",F:"%y-%m-%d",h:"%b",n:"\n",r:"locale",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"};e.match(/%[cDFhnrRtTxX]/);)e=e.replace(/%([cDFhnrRtTxX])/g,function(e,t){var r=o[t];return"locale"===r?a[t]:r});return e.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,function(e,t){var r=s[t];return"string"==typeof r?i[r]():"function"==typeof r?r(i):"object"==typeof r&&"string"==typeof r[0]?n(i[r[0]](),r[1]):t})}};return jSmart.prototype.registerPlugin("modifier","capitalize",function(e,t,r){if("string"!=typeof e)return e;for(var n,a=new RegExp(t?"[^a-zA-Z_à-ü]+":"[^a-zA-Z0-9_à-ü]"),s=null,i="",s=(e=r?e.toLowerCase():e).match(a);s;s=e.match(a))(n=e.slice(0,s.index)).match(/\d/)?i+=n:i+=n.charAt(0).toUpperCase()+n.slice(1),i+=e.slice(s.index,s.index+s[0].length),e=e.slice(s.index+s[0].length);return e.match(/\d/)?i+e:i+e.charAt(0).toUpperCase()+e.slice(1)}),jSmart.prototype.registerPlugin("modifier","cat",function(e,t){return t=t||"",String(e)+t}),jSmart.prototype.registerPlugin("modifier","count",function(e){if(e instanceof Array)return e.length;if("object"!=typeof e)return 0;if(Object.keys)return Object.keys(e).length;var t,r=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&++r;return r}),jSmart.prototype.registerPlugin("modifier","count_characters",function(e,t){return e=String(e),(t?e:e.replace(/\s/g,"")).length}),jSmart.prototype.registerPlugin("modifier","count_paragraphs",function(e){e=String(e).match(/\n+/g);return e?e.length+1:1}),jSmart.prototype.registerPlugin("modifier","count_sentences",function(e){if("string"==typeof e){e=e.match(/\w[.?!](\W|$)/g);if(e)return e.length}return 0}),jSmart.prototype.registerPlugin("modifier","count_words",function(e){if("string"==typeof e){e=e.match(/\w+/g);if(e)return e.length}return 0}),jSmart.prototype.registerPlugin("modifier","date_format",function(e,t,r){return phpJs.strftime(t||"%b %e, %Y",phpJs.makeTimeStamp(e||r))}),jSmart.prototype.registerPlugin("modifier","debug_print_var",function(e){var t="";return"object"==typeof module&&module&&"object"==typeof module.exports?t="node":"object"==typeof window&&window.document&&(t="browser"),""===t?"":"browser"===t?(console&&console.log&&console.log(e),jSmart.prototype.printR(e)):void console.log(e)}),jSmart.prototype.registerPlugin("modifier","defaultValue",function(e,t){return t=t||"",e&&"null"!==e&&void 0!==e?e:t}),jSmart.prototype.registerPlugin("modifier","escape",function(e,t,r,n){e=String(e),t=t||"html",r=r||"UTF-8",n=void 0===n||Boolean(n);var a,s="";switch(t){case"html":return(e=n?e.replace(/&/g,"&amp;"):e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;");case"htmlall":return phpJs.htmlEntities(e,3,r);case"url":return phpJs.rawUrlEncode(e);case"urlpathinfo":return phpJs.rawUrlEncode(e).replace(/%2F/g,"/");case"quotes":return e.replace(/(^|[^\\])'/g,"$1\\'");case"hex":for(s="",a=0;a<e.length;++a)s+="%"+phpJs.bin2Hex(e.substr(a,1)).toLowerCase();return s;case"hexentity":for(s="",a=0;a<e.length;++a)s+="&#x"+phpJs.bin2Hex(e.substr(a,1))+";";return s;case"decentity":for(s="",a=0;a<e.length;++a)s+="&#"+phpJs.ord(e.substr(a,1))+";";return s;case"mail":return e.replace(/@/g," [AT] ").replace(/[.]/g," [DOT] ");case"nonstd":for(s="",a=0;a<e.length;++a){var i=phpJs.ord(e.substr(a,1));s+=126<=i?"&#"+i+";":e.substr(a,1)}return s;case"javascript":return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/<\//g,"</")}return e}),jSmart.prototype.registerPlugin("modifier","from_charset",function(e){return e}),jSmart.prototype.registerPlugin("modifier","indent",function(e,t,r){e=String(e),t=t||4,r=r||" ";for(var n="";t--;)n+=r;var a=e.match(/\n+$/);return n+e.replace(/\n+$/,"").replace(/\n/g,"\n"+n)+(a?a[0]:"")}),jSmart.prototype.registerPlugin("modifier","lower",function(e){return String(e).toLowerCase()}),jSmart.prototype.registerPlugin("modifier","nl2br",function(e){return String(e).replace(/\n/g,"<br />")}),jSmart.prototype.registerPlugin("modifier","regex_replace",function(e,t,r){t=t.match(/^ *\/(.*)\/(.*) *$/);return String(e).replace(new RegExp(t[1],"g"+(1<t.length?t[2]:"")),r)}),jSmart.prototype.registerPlugin("modifier","replace",function(e,t,r){if(!t)return e;e=String(e),t=String(t),r=String(r);for(var n="",a=-1,a=e.indexOf(t);0<=a;a=e.indexOf(t))n+=e.slice(0,a)+r,a+=t.length,e=e.slice(a);return n+e}),jSmart.prototype.registerPlugin("modifier","spacify",function(e,t){return t=t||" ",String(e).replace(/(\n|.)(?!$)/g,"$1"+t)}),jSmart.prototype.registerPlugin("modifier","string_format",function(e,t){return phpJs.sprintf(t,e)}),jSmart.prototype.registerPlugin("modifier","strip",function(e,t){return t=t||" ",String(e).replace(/[\s]+/g,t)}),jSmart.prototype.registerPlugin("modifier","strip_tags",function(e,i,t){if(null===i&&(i=!0),t||!0!==i&&!1!==i&&0<(i+"").length&&(t=i,i=!0),t){var o=t.split(">");return o.splice(-1,1),e=String(e).replace(/<[^>]*?>/g,function(e,t,r){for(var n=e.match(/\w+/),a=0;a<o.length;a++){var s=(o[a]+">").match(/\w+/);if(n[0]===s[0])return e}return i?" ":""})}return String(e).replace(/<[^>]*?>/g,i?" ":"")}),jSmart.prototype.registerPlugin("modifier","to_charset",function(e){return e}),jSmart.prototype.registerPlugin("modifier","truncate",function(e,t,r,n,a){return r=null!=r?r:"...",(e=String(e)).length<=(t=t||80)?e:(t-=Math.min(t,r.length),a?e.slice(0,Math.floor(t/2))+r+e.slice(e.length-Math.floor(t/2)):(e=!n?e.slice(0,t+1).replace(/\s+?(\S+)?$/,""):e).slice(0,t)+r)}),jSmart.prototype.registerPlugin("modifier","unescape",function(e,t,r){switch(e=String(e),t=t||"html"){case"html":return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&quot;/g,'"');case"entity":case"htmlall":return phpJs.htmlEntityDecode(e,1);case"url":return phpJs.rawUrlDecode(e)}return e}),jSmart.prototype.registerPlugin("modifier","upper",function(e){return String(e).toUpperCase()}),jSmart.prototype.registerPlugin("modifier","wordwrap",function(e,t,r,n){t=t||80,r=r||"\n";for(var a=String(e).split("\n"),s=0;s<a.length;++s){for(var i=a[s],o="";i.length>t;){for(var l=0,p=i.slice(l).match(/\s+/);p&&l+p.index<=t;p=i.slice(l).match(/\s+/))l+=p.index+p[0].length;l=n?t-1:l||(p?p.index+p[0].length:i.length),o+=i.slice(0,l).replace(/\s+$/,""),l<i.length&&(o+=r),i=i.slice(l)}a[s]=o+i}return a.join("\n")}),jSmart.prototype.registerPlugin("function","__quoted",function(e,t){return e.join("")}),jSmart.prototype.registerPlugin("function","__array",function(e,t){var r,n=[];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r]&&"function"!=typeof e[r]&&(n[r]=e[r]);return n}),jSmart.prototype.registerPlugin("function","__func",function(e,t){for(var r=[],n=0;n<e.length;++n)r.push(e[n]);if("__owner"in t&&e.name in t.__owner)return s=t.__owner,e.length?s[e.name].apply(s,e):s[e.name].apply(s);if(Object.prototype.hasOwnProperty.call(jSmart.prototype.modifiers,e.name))return(s=jSmart.prototype.modifiers[e.name]).apply(s,r);var a,s=e.name;return"object"==typeof module&&module&&"object"==typeof module.exports?a=global[s]:"object"==typeof window&&window.document?a=window[s]:global&&(a=global[s]),t[s]?t[s].apply(t[s],r):a?a.apply(a,r):""}),jSmart.prototype.registerPlugin("function","counter",function(e,t){var r,n=e.__get("name","default");return n in t.smarty.counter?(r=t.smarty.counter[n],"start"in e?r.value=parseInt(e.start,10):(r.value=parseInt(r.value,10),r.skip=parseInt(r.skip,10),"down"===r.direction?r.value-=r.skip:r.value+=r.skip),r.skip=e.__get("skip",r.skip),r.direction=e.__get("direction",r.direction),r.assign=e.__get("assign",r.assign),t.smarty.counter[n]=r):t.smarty.counter[n]={value:parseInt(e.__get("start",1),10),skip:parseInt(e.__get("skip",1),10),direction:e.__get("direction","up"),assign:e.__get("assign",!1)},t.smarty.counter[n].assign?(t[t.smarty.counter[n].assign]=t.smarty.counter[n].value,""):e.__get("print",!0)?t.smarty.counter[n].value:""}),jSmart.prototype.registerPlugin("function","cycle",function(e,t){var r=e.__get("name","default"),n=e.__get("reset",!1);r in t.smarty.cycle||(t.smarty.cycle[r]={arr:[""],delimiter:e.__get("delimiter",","),index:0},n=!0),e.__get("delimiter",!1)&&(t.smarty.cycle[r].delimiter=e.delimiter);var a=e.__get("values",!1);if(a){var s=[];if(a instanceof Object)for(var i in a)s.push(a[i]);else s=a.split(t.smarty.cycle[r].delimiter);s.length===t.smarty.cycle[r].arr.length&&s[0]===t.smarty.cycle[r].arr[0]||(t.smarty.cycle[r].arr=s,n=!(t.smarty.cycle[r].index=0))}return e.__get("advance","true")&&(t.smarty.cycle[r].index+=1),(t.smarty.cycle[r].index>=t.smarty.cycle[r].arr.length||n)&&(t.smarty.cycle[r].index=0),e.__get("assign",!1)?(this.assignVar(e.assign,t.smarty.cycle[r].arr[t.smarty.cycle[r].index],t),""):e.__get("print",!0)?t.smarty.cycle[r].arr[t.smarty.cycle[r].index]:""}),jSmart.prototype.registerPlugin("function","eval",function(e,t){var r=e.var;return"assign"in e?(this.assignVar(e.assign,r,t),""):r}),jSmart.prototype.registerPlugin("function","debug",function(e,t){var r="";if("object"==typeof module&&module&&"object"==typeof module.exports?r="node":"object"==typeof window&&window.document&&(r="browser"),""===r)return"";if("browser"===r){window.jsmartDebug&&window.jsmartDebug.close(),window.jsmartDebug=window.open("","","width=680, height=600,resizable,scrollbars=yes");var n,a,s="",i="",o=0;for(n in t.includedTemplates)s+="<tr class="+(++o%2?"odd":"even")+"><td>"+t.includedTemplates[n]+"</td></tr>";for(a in""!==s&&(s="<h2>included templates</h2><table>"+s+"</table><br>"),o=0,t.assignedVars)i+="<tr class="+(++o%2?"odd":"even")+"><td>["+a+"]</td><td>"+jSmart.prototype.printR(t.assignedVars[a])+"</td></tr>";""!==i&&(i="<h2>assigned template variables</h2><table>"+i+"<table>"),window.jsmartDebug.document.write("<!DOCTYPE html><html><head><title>jSmart Debug Console</title><style type='text/css'>table {width: 100%;}td {vertical-align:top;}.odd td {background-color: #eee;}.even td {background-color: #dadada;}</style></head><body><h1>jSmart Debug Console</h1><br><pre>"+s+i+"</pre></body></html>")}else"undefined"!=typeof console&&(console.log("included templates:- "+JSON.stringify(s)),console.log("assigned template variables:- "+JSON.stringify(i)));return""}),jSmart.prototype.registerPlugin("function","fetch",function(e,t){var r=jSmart.prototype.getFile(e.__get("file",null,0));return"assign"in e?(this.assignVar(e.assign,r,t),""):r}),jSmart.prototype.registerPlugin("function","html_checkboxes",function(e,t){var r,n,a,s=e.__get("type","checkbox"),i=e.__get("name",s),o=i,l=e.__get("values",e.options),p=e.__get("options",[]),u="options"in e,c=e.__get("selected",!1),g=e.__get("separator",""),h=Boolean(e.__get("labels",!0)),f=Boolean(e.__get("label_ids",!1)),d=[],m=0,y="";if("checkbox"===s&&(i+="[]"),!u)for(r in e.output)p.push(e.output[r]);for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(a=o+"_"+(n=u?r:l[r]),y=h?f?'<label for="'+a+'">':"<label>":"",y+='<input type="'+s+'" name="'+i+'" value="'+n+'" ',f&&(y+='id="'+a+'" '),c==(u?r:l[r])&&(y+='checked="checked" '),y+="/>"+p[u?r:m++],y+=h?"</label>":"",y+=g,d.push(y));return"assign"in e?(this.assignVar(e.assign,d,t),""):d.join("\n")}),jSmart.prototype.registerPlugin("function","html_image",function(e,t){var r,n=e.__get("file",null),a=e.__get("width",!1),s=e.__get("height",!1),i=e.__get("alt",""),o=e.__get("href",e.__get("link",!1)),l={file:1,width:1,height:1,alt:1,href:1,basedir:1,pathPrefix:1,link:1},p='<img src="'+e.__get("path_prefix","")+n+'" alt="'+i+'"'+(a?' width="'+a+'"':"")+(s?' height="'+s+'"':"");for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"string"==typeof e[r]&&(r in l||(p+=" "+r+'="'+e[r]+'"'));return p+=" />",o?'<a href="'+o+'">'+p+"</a>":p}),jSmart.prototype.registerPlugin("function","html_options",function(e,t){var r,n=e.__get("values",e.options),a=e.__get("options",[]),s="options"in e;if(!s)for(r in e.output)a.push(e.output[r]);var i,o=e.__get("selected",!1),l=[],p="",u=0;if(o instanceof Array)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(o[i]=o[i]+"");else"boolean"!=typeof o&&(o=[o+""]);for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(p='<option value="'+(s?r:n[r])+'"',o&&-1!==o.indexOf(s?r:n[r])&&(p+=' selected="selected"'),p+=">"+a[s?r:u++]+"</option>",l.push(p));var c=e.__get("name",!1);return(c?'<select name="'+c+'">\n'+l.join("\n")+"\n</select>":l.join("\n"))+"\n"}),jSmart.prototype.registerPlugin("function","html_radios",function(e,t){return e.type="radio",this.plugins.html_checkboxes.process(e,t)}),jSmart.prototype.registerPlugin("function","html_select_date",function(e,t){var r=e.__get("prefix","Date_"),n=new Date,a=Number(e.__get("start_year",n.getFullYear())),s=Number(e.__get("end_year",a)),i=e.__get("display_days",!0),o=e.__get("display_months",!0),l=e.__get("display_years",!0),e=e.__get("reverse_years",!1),p=["","January","February","March","April","May","June","July","August","September","October","November","December"],u='<select name="'+r+'Month">\n',c=0;if((s<a&&!e||a<s&&e)&&(e=s,s=a,a=e),o){for(c=1;c<p.length;++c)u+='<option value="'+c+'"'+(c===n.getMonth()+1?' selected="selected"':"")+">"+p[c]+"</option>\n";u+="</select>\n"}if(i){for(u+='<select name="'+r+'Day">\n',c=1;c<=31;++c)u+='<option value="'+c+'"'+(c===n.getDate()?' selected="selected"':"")+">"+c+"</option>\n";u+="</select>\n"}if(l){var g=s<a?-1:1;for(u+='<select name="'+r+'Year">\n',c=a;0<g?c<=s:s<=c;c+=g)u+='<option value="'+c+'"'+(c===n.getFullYear()?' selected="selected"':"")+">"+c+"</option>\n";u+="</select>\n"}return u}),jSmart.prototype.registerPlugin("function","html_table",function(e,t){var r,n=e.__get("rows",!1),a=e.__get("cols",!1),s=e.__get("inner","cols"),i=e.__get("caption",""),o=e.__get("table_attr",'border="1"'),l=e.__get("th_attr",!1),p=e.__get("tr_attr",!1),u=e.__get("td_attr",!1),c=e.__get("trailpad","&nbsp;"),g=e.__get("hdir","right"),h=e.__get("vdir","down"),f=[];if(e.loop instanceof Array)f=e.loop;else for(r in e.loop)Object.prototype.hasOwnProperty.call(e.loop,r)&&f.push(e.loop[r]);var a=a||(n?Math.ceil(f.length/n):3),d=[];if(isNaN(a)){if("object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&d.push(a[r]);else d=a.split(/\s*,\s*/);a=d.length}n=n||Math.ceil(f.length/a),l&&"object"!=typeof l&&(l=[l]),p&&"object"!=typeof p&&(p=[p]),u&&"object"!=typeof u&&(u=[u]);for(var m,y="",b=0;b<n;++b){y+="<tr"+(p?" "+p[b%p.length]:"")+">\n";for(var _=0;_<a;++_)y+="<td"+(u?" "+u[_%u.length]:"")+">"+((m="cols"===s?("down"===h?b:n-1-b)*a+("right"===g?_:a-1-_):("right"===g?_:a-1-_)*n+("down"===h?b:n-1-b))<f.length?f[m]:c)+"</td>\n";y+="</tr>\n"}var v="";if(d.length){for(var v="\n<thead><tr>",w=0;w<d.length;++w)v+="\n<th"+(l?" "+l[w%l.length]:"")+">"+d["right"===g?w:d.length-1-w]+"</th>";v+="\n</tr></thead>"}return"<table "+o+">"+(i?"\n<caption>"+i+"</caption>":"")+v+"\n<tbody>\n"+y+"</tbody>\n</table>\n"}),jSmart.prototype.registerPlugin("function","mailto",function(e,t){var r=e.__get("address",null),n=e.__get("encode","none"),a=e.__get("text",r),s=phpJs.rawUrlEncode(e.__get("cc","")).replace(/%40/g,"@").replace(/%2C/g,","),i=phpJs.rawUrlEncode(e.__get("bcc","")).replace(/%40/g,"@").replace(/%2C/g,","),o=phpJs.rawUrlEncode(e.__get("followupto","")).replace(/%40/g,"@").replace(/%2C/g,","),l=phpJs.rawUrlEncode(e.__get("subject","")),p=phpJs.rawUrlEncode(e.__get("newsgroups","")),e=e.__get("extra","");if(r+=s?"?cc="+s:"",r+=i?(s?"&":"?")+"bcc="+i:"",r+=l?(s||i?"&":"?")+"subject="+l:"",r+=p?(s||i||l?"&":"?")+"newsgroups="+p:"",u='<a href="mailto:'+(r+=o?(s||i||l||p?"&":"?")+"followupto="+o:"")+'" '+e+">"+a+"</a>","javascript"===n){for(var u="document.write('"+u+"');",c="",g=0;g<u.length;++g)c+="%"+phpJs.bin2Hex(u.substr(g,1));return'<script type="text/javascript">eval(unescape(\''+c+"'))<\/script>"}if("javascript_charcode"===n){var h=[];for(g=0;g<u.length;++g)h.push(phpJs.ord(u.substr(g,1)));return'<script type="text/javascript" language="javascript">\n\x3c!--\n{document.write(String.fromCharCode('+h.join(",")+"))}\n//--\x3e\n<\/script>\n"}if("hex"!==n)return u;if(r.match(/^.+\?.+$/))throw new Error("mailto: hex encoding does not work with extra attributes. Try javascript.");var f="";for(g=0;g<r.length;++g)r.substr(g,1).match(/\w/)?f+="%"+phpJs.bin2Hex(r.substr(g,1)):f+=r.substr(g,1);var f=f.toLowerCase(),d="";for(g=0;g<a.length;++g)d+="&#x"+phpJs.bin2Hex(a.substr(g,1))+";";return'<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;'+f+'" '+e+">"+(d=d.toLowerCase())+"</a>"}),jSmart.prototype.registerPlugin("function","math",function(params,data){for(var equation=params.__get("equation",null).replace(/pi\(\s*\)/g,"PI"),equation=equation.replace(/ceil/g,"Math.ceil").replace(/abs/g,"Math.abs").replace(/cos/g,"Math.cos").replace(/exp/g,"Math.exp").replace(/floor/g,"Math.floor").replace(/log/g,"Math.log").replace(/max/g,"Math.max").replace(/min/g,"Math.min").replace(/PI/g,"Math.PI").replace(/pow/g,"Math.pow").replace(/rand/g,"Math.rand").replace(/round/g,"Math.round").replace(/sin/g,"Math.sin").replace(/sqrt/g,"Math.sqrt").replace(/srans/g,"Math.srans").replace(/tan/g,"Math.tan"),words=equation.match(/\w+/g),i,j,tmp,banned=["ceil","abs","cos","exp","floor","log10","log","max","min","pi","pow","rand","round","sin","sqrt","srans","tan"],i=0;i<words.length;i++)for(j=0;j<words.length-1;j++)(words[j]+"").length>(words[j+1]+"").length&&(tmp=words[j],words[j]=words[j+1],words[j+1]=tmp);for(i=0;i<words.length;i++)words[i]in params&&-1===banned.indexOf(words[i])&&(equation=equation.replace(words[i],params[words[i]]));var res=eval(equation);return"format"in params&&(res=Number(phpJs.sprintf(params.format,res))),"assign"in params?(this.assignVar(params.assign,res,data),""):res}),jSmart.prototype.registerPlugin("block","textformat",function(e,t,r,n){if(!t)return"";t=String(t);var a=e.__get("wrap",80),s=e.__get("wrap_char","\n"),i=e.__get("wrap_cut",!1),o=e.__get("indent_char"," "),l=e.__get("indent",0),p=new Array(l+1).join(o),u=e.__get("indent_first",0),c=new Array(u+1).join(o);"email"===e.__get("style","")&&(a=72);for(var g=t.split(/[\r\n]{2}/),h=0;h<g.length;++h){var f=g[h];f&&(f=f.replace(/^\s+|\s+$/,"").replace(/\s+/g," "),f=this.modifiers.wordwrap(f=0<u?c+f:f,a-l,s,i),0<l&&(f=f.replace(/^/gm,p)),g[h]=f)}t=g.join(s+s);return"assign"in e?(this.assignVar(e.assign,t,r),""):t}),String.prototype.fetch=function(e){return new jSmart(this).fetch(e)},jSmart});
